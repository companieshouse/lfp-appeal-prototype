{% extends "layout.html" %}

{% block pageTitle %}
  {% if errorList.length > 0 %}
    Error:
  {% endif %}
  Company authentication
{% endblock %}

{% block beforeContent %}
  {{ govukPhaseBanner({
    tag: {
      text: "alpha"
    },
    html: 'This is a new service â€“ your <a class="govuk-link" href="#">feedback</a> will help us to improve it.'
  }) }}
  {{ govukBackLink({
    text: "Back",
    href: "penalty-reference"
  }) }}
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {% if errorList.length > 0 %}
        {{ govukErrorSummary({
          titleText: "There was a problem with your authentication",
          errorList: errorList
        }) }}
      {% endif %}
      <h1 class="govuk-heading-xl">Company authentication</h1>
      <p class="govuk-body">To submit company information you will need an authentication code.</p>
      <p class="govuk-body govuk-!-font-size-24">Authenticating for
        <span class="govuk-!-font-weight-bold">{{ scenario.company.name }}</span>
      </p>
      <form action="" method="post">
        {% if authCodeErr.flag %}
          {{ govukInput({
            label: {
              text: "Authentication code"
            },
            errorMessage: {
              text: authCodeErr.text,
              href: authCodeErr.href
            },
            id: "auth-code",
            name: "authCode",
            value: authCode,
            type: 'password',
            classes: 'govuk-input--width-20'
          }) }}
        {% else %}
          {{ govukInput({
            label: {
              text: "Authentication code"
            },
            id: "auth-code",
            name: "authCode",
            value: authCode,
            type: 'password',
            classes: 'govuk-input--width-20'
          }) }}
        {% endif %}

        {{ govukButton({
          text: "Authenticate"
        }) }}
        <p class="govuk-body">
          <a href="https://ewf.companieshouse.gov.uk/?_ga=2.259791299.813501771.1566987875-1638653194.1563432911" class="govuk-link" target="_blank">Request an authentication code</a>
        </p>
      </form>
    </div>
  </div>

{% endblock %}